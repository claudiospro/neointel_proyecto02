SELECT unido.*, @rownum:=@rownum+1 row_num  FROM (
SELECT
  d1.nombre campania_nombre
, d2.nombre producto
, d.cliente_nombre
, d3.nombre estado
, v.info_update_fecha fecha_actualizacion
, d.fecha_instalada
, d4.nombre asesor_venta
, d5.nombre tramitacion
, d6.nombre supervisor
, d7.nombre coordinador
--
, v.id venta_id
, v.campania
FROM venta v
JOIN  venta_campania_001 d ON d.id=v.id
LEFT JOIN campania d1 ON d1.indice=v.campania
LEFT JOIN venta_producto d2 ON d2.id=d.producto
LEFT JOIN venta_estado d3 ON d3.id=d.estado
LEFT JOIN usu_usuario d4 ON d4.id=v.asesor_venta_id
LEFT JOIN usu_usuario d5 ON d5.id=v.tramitacion_id
LEFT JOIN usu_usuario d6 ON d6.id=v.supervisor_id
LEFT JOIN usu_usuario d7 ON d7.id=v.coordinador_id
WHERE v.campania = 'campania_001'
  AND v.lineal_id IN ( 1, 2)
) unido, (SELECT @rownum:=0) R
WHERE 1=1
 ORDER BY 5 desc LIMIT 0 ,50
;
